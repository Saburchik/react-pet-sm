"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[637],{5637:function(t,e,s){s.r(e),s.d(e,{default:function(){return z}});var a=s(5671),n=s(3144),r=s(136),i=s(5716),o=s(2791),l=s(364),u=s(3101),c=s(9271),d=s(7781),h=s(885),p=s(2036),f=s(9944),m=s(184),x=function(t){(0,r.Z)(s,t);var e=(0,i.Z)(s);function s(){var t;(0,a.Z)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,m.jsx)("div",{children:this.state.editMode?(0,m.jsx)("input",{className:"status__input",onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status,type:"text"}):(0,m.jsx)("span",{className:"status__span",onDoubleClick:this.activateEditMode,children:""===this.state.status?"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d":this.state.status})})}}]),s}(o.Component),j=x,v=s(7430),b=s(6139),g=s(704);var _=(0,g.Z)({form:"edit-profile"})((function(t){var e=t.profile,s=t.status,a=t.updateStatus,n=t.handleSubmit,r=t.error;return(0,m.jsxs)("form",{className:"personal__info",onSubmit:n,children:[(0,m.jsx)("button",{children:"Save"}),r&&(0,m.jsx)("div",{className:"login__error",children:r}),(0,m.jsxs)("h3",{className:"title-h3",children:[(0,m.jsx)("b",{children:e.fullName}),(0,m.jsx)(b.Z,{placeholder:"Full Name",name:"fullName",component:v.I})]}),(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),(0,m.jsx)(b.Z,{placeholder:"Full Name",name:"lookingForAJob",type:"checkbox",component:v.I})]}),(0,m.jsxs)("li",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b:",(0,m.jsx)(b.Z,{placeholder:"Enter a description",name:"lookingForAJobDescription",component:v.g})]}),(0,m.jsxs)("li",{children:["About Me:",(0,m.jsx)(b.Z,{placeholder:"About you",name:"aboutMe",validate:[],component:v.g})]}),(0,m.jsxs)("li",{children:["\u0421\u0442\u0430\u0442\u0443\u0441:",(0,m.jsx)(j,{status:s,updateStatus:a})]}),(0,m.jsxs)("ul",{className:"personal__contacts",children:[(0,m.jsx)("p",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:t}),(0,m.jsx)(b.Z,{name:"contacts.".concat(t),component:v.I,placeholder:t})]},t)}))]})]})]})})),y=function(t){var e=t.profile,s=t.status,a=t.updateStatus,n=t.isOwner,r=t.onEditMode;return(0,m.jsxs)("article",{className:"personal__info",children:[n&&(0,m.jsx)("button",{onClick:r,children:"edit"}),(0,m.jsxs)("h3",{className:"title-h3",children:["Full name: ",e.fullName]}),(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:",(0,m.jsx)("b",{children:!0===e.lookingForAJob?"\u0414\u0430":"\u041d\u0435 \u0438\u0449\u0443"})]}),e.lookingForAJob?(0,m.jsxs)("li",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b:",(0,m.jsx)("b",{children:e.lookingForAJobDescription})]}):e.lookingForAJobDescription="",(0,m.jsxs)("li",{children:["About Me:",(0,m.jsx)("b",{children:e.aboutMe})]}),(0,m.jsxs)("li",{children:["\u0421\u0442\u0430\u0442\u0443\u0441:",(0,m.jsx)(j,{status:s,updateStatus:a})]}),(0,m.jsxs)("ul",{className:"personal__contacts",children:[(0,m.jsx)("p",{children:"Contacts:"}),Object.keys(e.contacts).map((function(t){return(0,m.jsx)(N,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})]})},N=function(t){var e=t.contactTitle,s=t.contactValue;return(0,m.jsxs)("li",{children:[e,(0,m.jsx)("b",{children:s})]})},S=function(t){var e=t.profile,s=t.status,a=t.updateStatus,n=t.isOwner,r=t.savePhoto,i=t.saveProfile,l=(0,o.useState)(!1),u=(0,h.Z)(l,2),c=u[0],d=u[1];if(!e)return(0,m.jsx)(p.Z,{});return(0,m.jsxs)("div",{className:"personal",children:[(0,m.jsx)("img",{src:"https://catherineasquithgallery.com/uploads/posts/2021-03/1614764808_2-p-zadnie-foni-dlya-fotoshopa-2.jpg",alt:"background"}),(0,m.jsx)("div",{className:"personal__inner",children:(0,m.jsxs)("header",{className:"personal__header",children:[(0,m.jsx)(f.Z,{className:"personal__avatar",avatar:e.photos.large}),n&&(0,m.jsx)("input",{className:"personal__file",type:"file",onChange:function(t){t.target.files.length&&r(t.target.files[0])}}),(0,m.jsxs)("div",{className:"personal__noti",children:[(0,m.jsx)("button",{children:(0,m.jsx)("svg",{className:"linkedin",viewBox:"0 0 448 512",children:(0,m.jsx)("path",{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"})})}),(0,m.jsx)("button",{children:(0,m.jsx)("svg",{className:"bell",viewBox:"0 0 448 512",children:(0,m.jsx)("path",{d:"M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z"})})})]}),c?(0,m.jsx)(_,{initialValues:e,profile:e,onSubmit:function(t){i(t).then((function(){d(!1)}))},status:s,updateStatus:a}):(0,m.jsx)(y,{profile:e,status:s,updateStatus:a,isOwner:n,onEditMode:function(){return d(!0)}})]})})]})},P=s(5304),k=function(t){return(0,m.jsxs)("article",{className:"post__item",children:[(0,m.jsx)("a",{className:"post__photo",href:"/",children:(0,m.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=b54f120e901627eb4a503d6322b19bc4-5508813-images-thumbs&n=13&exp=1",alt:""})}),(0,m.jsx)("p",{children:t.message})]})},M=o.memo((function(t){return(0,m.jsxs)("article",{className:"posts__inner",children:[(0,m.jsx)("h3",{className:"title-h3",children:"My posts"}),(0,m.jsx)(w,{onSubmit:function(e){t.addPost(e.newPost),e.newPost=""}}),(0,m.jsx)("aside",{className:"posts__wrapper",children:t.posts.map((function(t){return(0,m.jsx)(k,{id:t.id,message:t.message},t.id)}))})]})})),Z=(0,P.DT)(10),w=(0,g.Z)({form:"addPost"})((function(t){var e=t.handleSubmit;return(0,m.jsxs)("form",{className:"posts__textarea",onSubmit:e,children:[(0,m.jsx)(b.Z,{name:"newPost",component:v.g,validate:[P.C1,Z,P.Bd]}),(0,m.jsx)("button",{children:"Add post"})]})})),A=M,C=(0,l.$j)((function(t){return{posts:t.ProfilePage.posts,defaultValue:t.ProfilePage.defaultValue}}),(function(t){return{addPost:function(e){t((0,u.HM)(e))}}}))(A),V=function(t){var e=t.profile,s=t.status,a=t.updateStatus,n=t.isOwner,r=t.savePhoto,i=t.saveProfile;return(0,m.jsxs)("div",{className:"profile",children:[(0,m.jsx)(S,{profile:e,isOwner:n,status:s,updateStatus:a,savePhoto:r,saveProfile:i}),(0,m.jsx)(C,{})]})},I=function(t){(0,r.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,a.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!==t.match.params.userId&&this.updateProfile()}},{key:"updateProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfileUsersThunk(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,m.jsx)(V,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})}}]),s}(o.Component),z=(0,d.qC)((0,l.$j)((function(t){return{profile:t.ProfilePage.profile,status:t.ProfilePage.status,authorizedUserId:t.Auth.id,isAuth:t.Auth.isAuth}}),{getProfileUsersThunk:u.B,getStatus:u.lR,updateStatus:u.Nf,savePhoto:u.Ju,saveProfile:u.Ii}),c.EN)(I)},9944:function(t,e,s){var a=s(184);e.Z=function(t){var e=t.className,s=t.avatar;return(0,a.jsx)("img",{className:e,src:s||"https://avatars.mds.yandex.net/i?id=3bdd061bff68b2ae3e738956432bb77b-2399446-images-thumbs&n=13&exp=1",alt:"user"})}},885:function(t,e,s){s.d(e,{Z:function(){return n}});var a=s(181);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var a,n,r=[],i=!0,o=!1;try{for(s=s.call(t);!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(l){o=!0,n=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}return r}}(t,e)||(0,a.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=637.63550b28.chunk.js.map